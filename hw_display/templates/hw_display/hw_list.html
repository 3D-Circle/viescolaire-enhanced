{% extends 'base.html' %}

{% block title %} Homework List {% endblock %}

{% block extra_head %}
    {% load static %}
    <link rel="stylesheet" href="{% static 'hw_display/hw_list.css' %}">

    <script>
        // takes value from subject choice and sends to corresponding page
        function load_archive() {
            var subject = $('select#subject_select').val();
            window.location.href = '/archives?' + subject;
        }

    </script>
{% endblock %}

{% block content %}
    <div id="title" class="title_box">
        Homework!
    </div>

    <div id="main_wrapper">
        <div id="control_bar">
            {% if user.is_authenticated %}
                Howdy, {{ request.user.username }}.
            {% endif %}
            <button class="top_control_button button">
                Settings
            </button>
            <a href="/logout/" class="button_link">
                <button class="top_control_button button">
                    Logout
                </button>
            </a>
        </div>

        <table>
        <tbody>
            {% for hw in hw_dict %}
                <tr>
                    <td style="text-align: center;">
                        {{ hw.subject }}
                    </td>
                    <td>
                        <a href="/devoir_id={{ hw.id }}" class="hw_link">
                            {{ hw.title }}
                        </a>
                    </td>
                    <td>
                        {{ hw.days_left }}
                    </td>
                </tr>
            {% endfor %}
        </tbody>
        </table>
    </div>

    <div id="bottom_wrapper" class="main_wrapper">
        <select name="subject_select" id="subject_select">
            {% for subject, link in subjects.items %}
                <option value="{{ link }}">{{ subject }}</option>
            {% endfor %}
        </select>
        <button class="button" onclick="load_archive()">Homework Archive</button>
        <button class="button" onclick="load_work_in_class()">Work done in class</button>
    </div>
{% endblock %}